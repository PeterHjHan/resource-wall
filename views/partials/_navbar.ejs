<nav class="navbar navbar-default navbar-expand-lg navbar-light">
  <div class="navbar-header d-flex col">
    <a class="navbar-brand" href="/">Wall<b>NOPOLY</b></a>
    <button type="button" data-target="#navbarCollapse" data-toggle="collapse" class="navbar-toggle navbar-toggler ml-auto">
      <span class="navbar-toggler-icon"></span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
    </button>
  </div>
  <!-- Collection of nav links, forms, and other content for toggling -->
  <div id="navbarCollapse" class="collapse navbar-collapse justify-content-start">
    <ul class="nav navbar-nav">
      <li class="nav-item dropdown">
        <a data-toggle="dropdown" class="nav-link dropdown-toggle" href="#">Topics <b class="caret"></b></a>
        <ul id="topics-dropdown" class="dropdown-menu">
        </ul>
      </li>
    </ul>

    <form class="navbar-form form-inline" method="GET" action="/search">
      <div class="input-group search-box">
        <input type="text" id="search" class="form-control" name='query' placeholder="Search here...">
        <span class="input-group-addon"></span>
      </div>
    </form>

    <ul class="nav navbar-nav navbar-right ml-auto">
      <li class="nav-item">
        <% if (user) { %>

        <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModal" data-whatever="@getbootstrap">New
          Post</button>

        <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
          aria-hidden="true">
          <div class="modal-dialog" role="document">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">New Post</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
                </button>
              </div>
              <div class="modal-body">
                <form method="POST" action="/resources/new">
                  <div class="form-group">
                    <label class="col-form-label">Title</label>
                    <input type="text" class="form-control" id="recipient-name" name="title">
                  </div>
                  <div class="form-group">
                    <label class="col-form-label">Description:</label>
                    <textarea class="form-control" id="message-text" name="description"></textarea>
                  </div>
                  <div class="form-group">
                    <label class="col-form-label">URL:</label>
                    <input type="text" class="form-control" id="recipient-name" name="url" placeholder="http://">
                  </div>
                  <div class="form-group">
                    <label class="col-form-label">Choose the topic:</label>
                    <select class="select-topics" name="topic"></select>
                  </div>
              </div>

              <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                <button type="submit" class="btn btn-primary">Post</button>
                </form>
              </div>
            </div>
          </div>
        </div>



        <!-- post-new-resource -->


        <form method="POST" action="/logout" class="form-inline">
          <button class="btn btn-danger" name='logout'>Logout</button>
        </form>

        <% } else { %>

        <a data-toggle="dropdown" class="nav-link dropdown-toggle" href="#">Login</a>
        <ul class="dropdown-menu form-wrapper">
          <li>
            <br>
              <form action="/login" method="post">

                <div class="form-group">
                  <input type="text" class="form-control" name="username" placeholder="Username" required="required">
                </div>
                <div class="form-group">
                  <input type="password" name="password" class="form-control" placeholder="Password" required="required">
                </div>
                <input type="submit" class="btn btn-primary btn-block" value="Login">
              </form>
          </li>
        </ul>
      </li>
      <li class="nav-item">
        <a href="#" data-toggle="dropdown" class="btn btn-primary dropdown-toggle get-started-btn mt-1 mb-1">Sign up</a>
        <ul class="dropdown-menu form-wrapper">
          <li>
            <form action="/register" method="post">
                <p class="hint-text">Fill in this form to create your account!</p>
                <div class="form-group">
                  <input type="text" class="form-control" placeholder="Username" name="username" required="required">
                </div>
                <div class="form-group">
                  <input type="password" class="form-control" placeholder="Password" required="required">
                </div>
                <div class="form-group">
                  <input type="password" class="form-control" placeholder="Confirm Password" name="password" required="required">
                </div>
                <input type="submit" class="btn btn-primary btn-block" value="Sign up">
              </form>
          </li>
        </ul>
      </li>
    </ul>

    <% } %>
  </div>
</nav>
